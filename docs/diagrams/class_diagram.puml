@startuml
!theme plain

title Budget Management System - Complete Class Diagram

package "Data Acquisition Layer" {
  class DownloadingOutputFiles {
    + run(): void
  }
  
  class Links {
    + linksForBudget(year: int): String
  }
  
  class GetPdf {
    + fileDownloader(url: String, year: int): void
  }
  
  class ReadPDF {
    + getInFile(year: int): void
  }
}

package "Data Processing Layer" {
  class Article_1 {
    + getArticle1(year: int): void
    + parseBudgetData(filePath: String): BudgetData
  }
  
  class BudgetRevenueReader {
    + main(args: String[]): void
    + extractRevenueData(lines: List<String>): List<RevenueRecord>
  }
  
  class RevenueExtractor {
    + extractRevenues(filePath: String): void
  }
  
  class CVSmanagement {
    + loadCsvToArray(filename: String): String[][]
  }
}

package "Business Logic Layer" {
  class BudgetAnalyzer {
    + displaySynola(kodikosForea: String): boolean
    + findTaktikosSynolo(kodikosForea: String): Double
  }
  
  class ExpenseManager {
    + showCategories(): void
    + showExpenseDetails(codes: String...): void
  }
  
  class RevenueManager {
    + showCategories(): void
    + showRevenueDetails(codes: String...): void
  }
}

package "Presentation Layer" {
  class BudgetDisplay {
    + main(args: String[]): void
  }
  
  class ExpenseDisplay {
    + main(args: String[]): void
  }
  
  class Printbudget {
    + printbudget(): void
  }
  
  class MyBudget {
    + main(args: String[]): void
  }
}

package "Data Models" {
  class BudgetData {
    - totalRevenue: double
    - totalExpenses: double
    - deficit: double
  }
  
  class RevenueRecord {
    - code: String
    - description: String
    - amount: long
  }
  
  class ExpenseCategory {
    - code: String
    - name: String
    - amount: long
  }
  
  class Ministry {
    - name: String
    - total: long
    - categories: List<ExpenseCategory>
  }
  
  class TaktikosProupologismos {
    - kodikosForea: String
    - onomaForea: String
    - synolo: double
  }
  
  class DimosiesEpendiseis {
    - kodikosForea: String
    - onomaForea: String
    - synolo: double
  }
}

' ========== ΚΥΡΙΕΣ ΣΧΕΣΕΙΣ ==========
DownloadingOutputFiles --> Links : uses
DownloadingOutputFiles --> GetPdf : uses
DownloadingOutputFiles --> ReadPDF : creates

ReadPDF ..> Article_1 : provides data
ReadPDF ..> BudgetRevenueReader : provides data
ReadPDF ..> RevenueExtractor : provides data

Article_1 --> BudgetData : creates
BudgetRevenueReader --> RevenueRecord : creates

BudgetAnalyzer *-- "many" TaktikosProupologismos
BudgetAnalyzer *-- "many" DimosiesEpendiseis

BudgetDisplay ..> Ministry : uses
BudgetDisplay ..> ExpenseCategory : creates
Ministry *-- "many" ExpenseCategory : contains

ExpenseManager --> ExpenseCategory : manages
RevenueManager --> RevenueRecord : manages

Printbudget --> CVSmanagement : uses
MyBudget --> CVSmanagement : uses

' ========== DEPENDENCIES ==========
Article_1 ..> BudgetAnalyzer : feeds
BudgetRevenueReader ..> RevenueManager : feeds
RevenueExtractor ..> RevenueManager : feeds

note right of DownloadingOutputFiles
  Orchestrator - Controls entire workflow from URL to text extraction
end note

note left of BudgetAnalyzer
  Core analyzer with hardcoded Greek ministry budget data
end note

@enduml